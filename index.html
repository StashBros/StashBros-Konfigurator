<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>StashBros Produkt-Konfigurator</title>
    <style>
        /* Grundlegende Stile */
        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
        .container { max-width: 800px; margin: 0 auto; padding: 20px; border: 1px solid #ddd; border-radius: 5px; background-color: #f9f9f9; }
        h1 { text-align: center; color: #333; font-size: 1.5rem; }
        label, input, button { display: block; margin: 10px 0; }
        input { padding: 10px; border: 1px solid #ccc; border-radius: 5px; width: 100%; box-sizing: border-box; }
        input.error { border: 2px solid red; }
        .output { margin-top: 20px; padding: 10px; border: 1px solid #ddd; background-color: #fff; border-radius: 5px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        table, th, td { border: 1px solid #ddd; }
        th, td { padding: 8px; text-align: left; font-size: 0.9rem; }
        th { background-color: #f2f2f2; text-align: center; }
        button { padding: 10px; background-color: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background-color: #45a049; }
        .error-message { color: red; font-size: 0.9em; }
        .footnote { font-size: 0.75em; color: #555; margin-top: 20px; font-style: italic; }

        /* Wrapper für scrollbare Tabellen */
        .table-wrapper { overflow-x: auto; }

        /* Mobile Optimierung */
        @media (max-width: 768px) {
            body { margin: 10px; font-size: 1rem; }
            h1 { font-size: 1.2rem; }
            th, td { padding: 6px; font-size: 0.8rem; }
            button { font-size: 1rem; }
            .container { padding: 10px; }
            .output { padding: 10px; }
        }

        @media (max-width: 480px) {
            body { font-size: 0.9rem; }
            h1 { font-size: 1rem; }
            input { font-size: 0.9rem; }
            th, td { font-size: 0.75rem; }
            button { font-size: 0.9rem; padding: 8px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>StashBros Produkt-Konfigurator</h1>
        <p>Geben Sie die Mitgliederanzahl Ihres Cannabis Social Clubs ein, um die optimale Produktzusammenstellung, Verbrauch und Abo-Optionen zu berechnen.</p>
        <label for="members">Mitgliederanzahl:</label>
        <input type="number" id="members" min="1" max="100000" placeholder="z. B. 500" aria-describedby="memberHelp">
        <span id="memberHelp" class="error-message"></span>
        <button id="calculate-btn" aria-label="Berechnung starten" onclick="generateRecommendation()">Empfehlung anzeigen</button>
        <div class="output" id="output"></div>
    </div>
    <script>
        const baseData = {
            members: 500,
            plantsPerMember: 1120 / 500, // Verhältnis Pflanzen zu Mitgliedern
            averageYieldPerPlant: 55.8, // Gramm Ertrag pro Pflanze in einem 10-Wochen-Zyklus
        };

        const formatNumber = (number) => new Intl.NumberFormat("de-DE", { style: "currency", currency: "EUR" }).format(number);

        function generateRecommendation() {
            const membersInput = document.getElementById('members');
            const members = parseInt(membersInput.value);
            const output = document.getElementById('output');
            const errorMessage = document.getElementById('memberHelp');

            membersInput.classList.remove('error');
            errorMessage.innerHTML = "";
            output.innerHTML = "";

            if (isNaN(members) || members <= 0 || members > 100000) {
                errorMessage.innerHTML = "Bitte geben Sie eine gültige Mitgliederanzahl (1-100000) ein.";
                membersInput.classList.add('error');
                return;
            }

            const plants10Weeks = Math.ceil(members * baseData.plantsPerMember);
            let totalCost10Weeks = 1000; // Beispielwert

            let recommendation = "<h3>Empfohlene Produkte:</h3>";
            recommendation += `<div class="table-wrapper"><table>`;
            recommendation += "<tr><th>Produkt</th><th>Optimale Größe</th><th>Anzahl</th><th>Preis (€)</th><th>10-Wochen Verbrauch</th><th>Gesamtkosten (€)</th></tr>";
            recommendation += "<tr><td>Beispielprodukt</td><td>10 L</td><td>5</td><td>50,00 €</td><td>500 L</td><td>250,00 €</td></tr>";
            recommendation += "</table></div>";
            recommendation += `<h3>Gesamtkosten für 10 Wochen: ${formatNumber(totalCost10Weeks)}</h3>`;
            recommendation += `<p class="footnote">* Durchschnittlicher Ertrag pro Pflanze: ${baseData.averageYieldPerPlant.toFixed(2)} Gramm</p>`;

            output.innerHTML = recommendation;
        }
    </script>
</body>
</html>
